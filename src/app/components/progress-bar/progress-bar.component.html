<div class="w-fit py-4 px-8">

  <div class="flex items-start justify-between gap-8 z-10">
    @for (step of steps(); track i; let i = $index) {
    <ol class="flex flex-col items-center gap-1 grow text-center relative">

      <li
        class="w-10 h-10 rounded-full flex items-center justify-center text-white transition-colors duration-300 ease-in-out z-10"
        [ngClass]="getColorClass(i)"
        matTooltip="{{ step.tooltip }}"
        matTooltipPosition="right"
        [attr.aria-current]="isActive(i) ? 'step' : null"
      >
        @if (step.icon) {
        <mat-icon>{{ step.icon }}</mat-icon>
        } @else {
        {{ i + 1 }}
        }
      </li>

      @if (steps().length - 1 > i) {
      <div
        class="absolute w-[calc(50%+1.5rem)] h-1 left-1/2 top-4.5 transition-colors duration-350 ease-in-out"
        [ngClass]="getColorClass(i)"
      ></div>
      }

      @if (i > 0) {
      <div
        class="absolute w-[calc(50%+1.5rem)] h-1 right-1/2 top-4.5 transition-colors duration-350 ease-in-out"
        [ngClass]="getColorClass(i - 1)"
      ></div>
      }

      <div class="text-gray-600">{{ step.label }}</div>
      @if (step.subLabel) {
      <div class="text-sm text-gray-500">{{ step.subLabel }}</div>
      }

    </ol>
    }
  </div>

</div>
